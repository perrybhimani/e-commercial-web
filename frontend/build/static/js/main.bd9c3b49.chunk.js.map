{"version":3,"sources":["actions/productActions.js","constants/productConstants.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartActions.js","constants/cartConstants.js","screens/CartScreen.js","screens/SigninScreen.js","actions/userActions.js","constants/userConstants.js","screens/RegisterScreen.js","screens/ProductsScreen.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","actions/orderActions.js","constants/orderConstants.js","components/paypal.js","screens/OrderScreen.js","screens/OrdersScreen.js","screens/ProfileScreen.js","App.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js"],"names":["listProducts","dispatch","a","type","axios","get","data","payload","message","HomeScreen","props","useState","setSearchKeyword","setSortOrder","category","match","params","id","productList","useSelector","state","products","loading","error","useDispatch","useEffect","className","onSubmit","e","preventDefault","name","onChange","target","value","map","product","key","_id","to","src","image","alt","brand","price","ProductScreen","qty","setQty","productDetails","userSignin","userInfo","productId","description","countInStock","Array","keys","x","onClick","history","push","addToCart","getState","Axios","cartItems","cart","Cookie","set","JSON","stringify","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","length","item","reduce","c","disabled","SigninScreen","email","setEmail","password","setPassword","redirect","post","signin","htmlFor","RegisterScreen","setName","setRePassword","userRegister","register","ProductsScreen","modalVisible","setModalVisible","setId","setPrice","setImage","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","productSave","loadingSave","successSave","success","errorSave","productDelete","successDelete","openModal","deleteHandler","delete","headers","Authorization","token","put","file","files","bodyFormData","FormData","append","then","response","catch","err","console","log","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentScreen","paymentMethod","setPaymentMethod","for","PlaceOrderScreen","orderCreate","order","shipping","payment","itemsPrice","shippingPrice","taxPrice","totalPrice","newOrder","createOrder","orderItems","PaypalButton","OrderScreen","orderPay","sdkReady","setSdkReady","clientID","setclientID","loadingPay","successPay","orderId","orderDetails","isDelivered","deliveredAt","isPaid","paidAt","CircularProgress","amount","onSuccess","paymentResult","payOrder","options","clientId","OrdersScreen","orderList","orders","orderDelete","deleteOrder","createdAt","user","toString","isAdmin","ProfileScreen","myOrderList","loadingOrders","errorOrders","userId","update","remove","App","document","querySelector","classList","add","href","path","component","exact","initialState","getJSON","reducer","combineReducers","action","reviews","find","filter","productReviewSave","review","errror","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bd9c3b49.chunk.js","sourcesContent":["import {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_SAVE_REQUEST,\r\n  PRODUCT_SAVE_SUCCESS,\r\n  PRODUCT_SAVE_FAIL,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_REVIEW_SAVE_REQUEST,\r\n  PRODUCT_REVIEW_SAVE_FAIL,\r\n  PRODUCT_REVIEW_SAVE_SUCCESS,\r\n} from '../constants/productConstants';\r\nimport axios from 'axios';\r\nimport Axios from 'axios';\r\n\r\nconst listProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST });\r\n    const { data } = await axios.get('/api/products');\r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst saveProduct = (product) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\r\n    const { userSignin: { userInfo } } = getState();\r\n    if (!product._id) {\r\n      const { data } = await Axios.post('/api/products', product, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + userInfo.token,\r\n        },\r\n      });\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    } else {\r\n      const { data } = await Axios.put('/api/products/' + product._id,product,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + userInfo.token,\r\n          },\r\n        }\r\n      );\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    }\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst detailsProduct = (productId) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n    const { data } = await axios.get('/api/products/' + productId);\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst deleteProdcut = (productId) => async (dispatch, getState) => {\r\n  try {\r\n    const { userSignin: { userInfo } } = getState();\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\r\n    const { data } = await axios.delete('/api/products/' + productId, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + userInfo.token,\r\n      },\r\n    });\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst saveProductReview = (productId, review) => async (dispatch, getState) => {\r\n  try {\r\n    const {\r\n      userSignin: {\r\n        userInfo: { token },\r\n      },\r\n    } = getState();\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_REQUEST, payload: review });\r\n    const { data } = await axios.post(\r\n      `/api/products/${productId}/reviews`,\r\n      review,\r\n      {\r\n        headers: {\r\n          Authorization: 'Bearer ' + token,\r\n        },\r\n      }\r\n    );\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    // report error\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport {\r\n  listProducts,\r\n  detailsProduct,\r\n  saveProduct,\r\n  deleteProdcut,\r\n  saveProductReview,\r\n};\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\n\r\nexport const PRODUCT_SAVE_REQUEST = 'PRODUCT_SAVE_REQUEST';\r\nexport const PRODUCT_SAVE_SUCCESS = 'PRODUCT_SAVE_SUCCESS';\r\nexport const PRODUCT_SAVE_FAIL = 'PRODUCT_SAVE_FAIL';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\r\n\r\nexport const PRODUCT_REVIEW_SAVE_REQUEST = 'PRODUCT_REVIEW_SAVE_REQUEST';\r\nexport const PRODUCT_REVIEW_SAVE_SUCCESS = 'PRODUCT_REVIEW_SAVE_SUCCESS';\r\nexport const PRODUCT_REVIEW_SAVE_FAIL = 'PRODUCT_REVIEW_SAVE_FAIL';\r\nexport const PRODUCT_REVIEW_SAVE_RESET = 'PRODUCT_REVIEW_SAVE_RESET';\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\n\r\n\r\nfunction HomeScreen(props) {\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('');\r\n  const category = props.match.params.id ? props.match.params.id : '';\r\n  const productList = useSelector((state) => state.productList);\r\n  const { products, loading, error } = productList;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listProducts(category));\r\n\r\n    return () => {\r\n      //\r\n    };\r\n  }, [category]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(listProducts());\r\n  };\r\n  const sortHandler = (e) => {\r\n    setSortOrder(e.target.value);\r\n    dispatch(listProducts(category, searchKeyword, sortOrder));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {category && <h2>{category}</h2>}\r\n\r\n      <ul className=\"filter\">\r\n        <li>\r\n          <form onSubmit={submitHandler}>\r\n            <input\r\n              name=\"searchKeyword\"\r\n              onChange={(e) => setSearchKeyword(e.target.value)}\r\n            />\r\n            <button type=\"submit\">Search</button>\r\n          </form>\r\n        </li>\r\n        <li>\r\n          Sort By{' '}\r\n          <select name=\"sortOrder\" onChange={sortHandler}>\r\n            <option value=\"\">Newest</option>\r\n            <option value=\"lowest\">Lowest</option>\r\n            <option value=\"highest\">Highest</option>\r\n          </select>\r\n        </li>\r\n      </ul>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : (\r\n        <ul className=\"products\">\r\n          {products.map((product) => (\r\n            <li key={product._id}>\r\n              <div className=\"product\">\r\n                <Link to={'/product/'+product._id}>\r\n                  <img\r\n                    className=\"product-image\"\r\n                    src={product.image}\r\n                    alt=\"product\"\r\n                  />\r\n                </Link>\r\n                <div className=\"product-name\">\r\n                  <Link to={'/product/'+product._id}>{product.name}</Link>\r\n                </div>\r\n                <div className=\"product-brand\">{product.brand}</div>\r\n                <div className=\"product-price\">${product.price}</div>\r\n                <div className=\"product-rating\">\r\n                \r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default HomeScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { detailsProduct } from '../actions/productActions';\r\n\r\nfunction ProductScreen(props) {\r\n  const [qty, setQty] = useState(1);\r\n  const [comment, setComment] = useState('');\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { product, loading, error } = productDetails;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n   \r\n    dispatch(detailsProduct(props.match.params.id));\r\n    return () => {\r\n      //\r\n    };\r\n  }, []);\r\n  const handleAddToCart = () => {\r\n    props.history.push('/cart/' + props.match.params.id + '?qty=' + qty);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"back-to-result\">\r\n        <Link to=\"/\">Back to result</Link>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error} </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"details\">\r\n            <div className=\"details-image\">\r\n              <img src={product.image} alt=\"product\"></img>\r\n            </div>\r\n            <div className=\"details-info\">\r\n              <ul>\r\n                <li>\r\n                  <h4>{product.name}</h4>\r\n                </li>\r\n                <li>\r\n                 \r\n                </li>\r\n                <li>\r\n                  Price: <b>${product.price}</b>\r\n                </li>\r\n                <li>\r\n                  Description:\r\n                  <div>{product.description}</div>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"details-action\">\r\n              <ul>\r\n                <li>Price: {product.price}</li>\r\n                <li>\r\n                  Status:{' '}\r\n                  {product.countInStock > 0 ? 'In Stock' : 'Unavailable.'}\r\n                </li>\r\n                <li>\r\n                  Qty:{' '}\r\n                  <select\r\n                    value={qty}\r\n                    onChange={(e) => {\r\n                      setQty(e.target.value);\r\n                    }}\r\n                  >\r\n                    {[...Array(product.countInStock).keys()].map((x) => (\r\n                      <option key={x + 1} value={x + 1}>\r\n                        {x + 1}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </li>\r\n                <li>\r\n                  \r\n                    <button\r\n                     onClick={handleAddToCart}\r\n                      className=\"button primary\"\r\n                    >\r\n                      Add to Cart\r\n                    </button>\r\n                  \r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          \r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default ProductScreen;\r\n","import Axios from \"axios\";\r\nimport Cookie from \"js-cookie\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING,CART_SAVE_PAYMENT } from \"../constants/cartConstants\";\r\n\r\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await Axios.get(\"/api/products/\" + productId);\r\n    dispatch({\r\n      type: CART_ADD_ITEM, payload: {\r\n        product: data._id,\r\n        name: data.name,\r\n        image: data.image,\r\n        price: data.price,\r\n        countInStock: data.countInStock,\r\n        qty\r\n      }\r\n    });\r\n    const { cart: { cartItems } } = getState();\r\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\r\n\r\n  } catch (error) {\r\n\r\n  }\r\n}\r\nconst removeFromCart = (productId) => (dispatch, getState) => {\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n\r\n  const { cart: { cartItems } } = getState();\r\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\r\n}\r\nconst saveShipping = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_SHIPPING, payload: data });\r\n}\r\nconst savePayment = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_PAYMENT, payload: data });\r\n}\r\nexport { addToCart, removeFromCart, saveShipping, savePayment }","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING = 'CART_SAVE_SHIPPING';\r\nexport const CART_SAVE_PAYMENT = 'CART_SAVE_PAYMENT';","import React, { useEffect } from 'react';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nfunction CartScreen(props) {\r\n\r\n  const cart = useSelector(state => state.cart);\r\n\r\n  const { cartItems } = cart;\r\n\r\n  const productId = props.match.params.id;\r\n  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\r\n  const dispatch = useDispatch();\r\n  const removeFromCartHandler = (productId) => {\r\n    dispatch(removeFromCart(productId));\r\n  }\r\n  useEffect(() => {\r\n    if (productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, []);\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push(\"/signin?redirect=shipping\");\r\n  }\r\n\r\n  return <div className=\"cart\">\r\n    <div className=\"cart-list\">\r\n      <ul className=\"cart-list-container\">\r\n        <li>\r\n          <h3>\r\n            Shopping Cart\r\n          </h3>\r\n          <div>\r\n            Price\r\n          </div>\r\n        </li>\r\n        {\r\n          cartItems.length === 0 ?\r\n            <div>\r\n              Cart is empty\r\n          </div>\r\n            :\r\n            cartItems.map(item =>\r\n              <li>\r\n                <div className=\"cart-image\">\r\n                  <img src={item.image} alt=\"product\" />\r\n                </div>\r\n                <div className=\"cart-name\">\r\n                  <div>\r\n                    <Link to={\"/product/\" + item.product}>\r\n                      {item.name}\r\n                    </Link>\r\n\r\n                  </div>\r\n                  <div>\r\n                    Qty:\r\n                  <select value={item.qty} onChange={(e) => dispatch(addToCart(item.product, e.target.value))}>\r\n                      {[...Array(item.countInStock).keys()].map(x =>\r\n                        <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                      )}\r\n                    </select>\r\n                    <button type=\"button\" className=\"button\" onClick={() => removeFromCartHandler(item.product)} >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"cart-price\">\r\n                  ${item.price}\r\n                </div>\r\n              </li>\r\n            )\r\n        }\r\n      </ul>\r\n\r\n    </div>\r\n    <div className=\"cart-action\">\r\n      <h3>\r\n        Subtotal ( {cartItems.reduce((a, c) => a + c.qty, 0)} items)\r\n        :\r\n         $ {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n      </h3>\r\n      <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\r\n        Proceed to Checkout\r\n      </button>\r\n\r\n    </div>\r\n\r\n  </div>\r\n}\r\n\r\nexport default CartScreen;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { signin } from '../actions/userActions';\r\n\r\nfunction SigninScreen(props) {\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const userSignin = useSelector(state => state.userSignin);\r\n  const { loading, userInfo, error } = userSignin;\r\n  const dispatch = useDispatch();\r\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, [userInfo]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signin(email, password));\r\n\r\n  }\r\n  return <div className=\"form\">\r\n    <form onSubmit={submitHandler} >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Sign-In</h2>\r\n        </li>\r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && <div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\">Signin</button>\r\n        </li>\r\n        <li>\r\n          New to amazona?\r\n        </li>\r\n        <li>\r\n          <Link to={redirect === \"/\" ? \"register\" : \"register?redirect=\" + redirect} className=\"button secondary text-center\" >Create your amazona account</Link>\r\n        </li>\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\nexport default SigninScreen;","import Axios from \"axios\";\r\nimport Cookie from 'js-cookie';\r\nimport {\r\n  USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS,\r\n  USER_SIGNIN_FAIL, USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL\r\n} from \"../constants/userConstants\";\r\n\r\nconst update = ({ userId, name, email, password }) => async (dispatch, getState) => {\r\n  const { userSignin: { userInfo } } = getState();\r\n  dispatch({ type: USER_UPDATE_REQUEST, payload: { userId, name, email, password } });\r\n  try {\r\n    const { data } = await Axios.put(\"/api/users/\" + userId,\r\n      { name, email, password }, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + userInfo.token\r\n      }\r\n    });\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n    Cookie.set('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst signin = (email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/signin\", { email, password });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    Cookie.set('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst register = (name, email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/register\", { name, email, password });\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n    Cookie.set('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst logout = () => (dispatch) => {\r\n  Cookie.remove(\"userInfo\");\r\n  dispatch({ type: USER_LOGOUT })\r\n}\r\nexport { signin, register, logout, update };","export const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\r\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\r\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_LOGOUT = 'USER_LOGOUT';","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { register } from '../actions/userActions';\r\n\r\nfunction RegisterScreen(props) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [rePassword, setRePassword] = useState('');\r\n  const userRegister = useSelector(state => state.userRegister);\r\n  const { loading, userInfo, error } = userRegister;\r\n  const dispatch = useDispatch();\r\n\r\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, [userInfo]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(register(name, email, password));\r\n  }\r\n  return <div className=\"form\">\r\n    <form onSubmit={submitHandler} >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Create Account</h2>\r\n        </li>\r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && <div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"name\">\r\n            Name\r\n          </label>\r\n          <input type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"rePassword\">Re-Enter Password</label>\r\n          <input type=\"password\" id=\"rePassword\" name=\"rePassword\" onChange={(e) => setRePassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\">Register</button>\r\n        </li>\r\n        <li>\r\n          Already have an account?\r\n          <Link to={redirect === \"/\" ? \"signin\" : \"signin?redirect=\" + redirect} className=\"button secondary text-center\" >Create your amazona account</Link>\r\n\r\n        </li>\r\n\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\nexport default RegisterScreen;","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport axios from 'axios';\r\nimport {\r\n  saveProduct,\r\n  listProducts,\r\n  deleteProdcut,\r\n} from '../actions/productActions';\r\n\r\nfunction ProductsScreen(props) {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [id, setId] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [countInStock, setCountInStock] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, products, error } = productList;\r\n\r\n  const productSave = useSelector((state) => state.productSave);\r\n  const { loading: loadingSave,\r\n    success: successSave,\r\n    error: errorSave,\r\n  } = productSave;\r\n\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = productDelete;\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  useEffect(() => {\r\n    if (successSave) {\r\n      setModalVisible(false);\r\n    }\r\n    dispatch(listProducts());\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successSave, successDelete]);\r\n\r\n  const openModal = (product) => {\r\n    setModalVisible(true);\r\n    setId(product._id);\r\n    setName(product.name);\r\n    setPrice(product.price);\r\n    setDescription(product.description);\r\n    setImage(product.image);\r\n    setBrand(product.brand);\r\n    setCategory(product.category);\r\n    setCountInStock(product.countInStock);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      saveProduct({\r\n        _id: id,\r\n        name,\r\n        price,\r\n        image,\r\n        brand,\r\n        category,\r\n        countInStock,\r\n        description,\r\n      })\r\n    );\r\n  };\r\n  const deleteHandler = (product) => {\r\n    dispatch(deleteProdcut(product._id));\r\n  };\r\n  const uploadFileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('image', file);\r\n    setUploading(true);\r\n    axios\r\n      .post('/api/uploads', bodyFormData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setImage(response.data);\r\n        setUploading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setUploading(false);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"content content-margined\">\r\n      <div className=\"product-header\">\r\n        <h3>Products</h3>\r\n        <button className=\"button primary\" onClick={() => openModal({})}>\r\n          Create Product\r\n        </button>\r\n      </div>\r\n      {modalVisible && (\r\n        <div className=\"form\">\r\n          <form onSubmit={submitHandler}>\r\n            <ul className=\"form-container\">\r\n              <li>\r\n                <h2> {id ? 'Update' : 'Create'} Product</h2>\r\n              </li>\r\n              <li>\r\n                {loadingSave && <div>Loading...</div>}\r\n                {errorSave && <div>{errorSave}</div>}\r\n              </li>\r\n\r\n              <li>\r\n                <label htmlFor=\"name\">Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  id=\"name\"\r\n                  onChange={(e) => setName(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"price\">Price</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"price\"\r\n                  value={price}\r\n                  id=\"price\"\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"image\">Image</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"image\"\r\n                  value={image}\r\n                  id=\"image\"\r\n                  onChange={(e) => setImage(e.target.value)}\r\n                ></input>\r\n                <input type=\"file\" onChange={uploadFileHandler}></input>\r\n                {uploading && <div>Uploading...</div>}\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"brand\">Brand</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"brand\"\r\n                  value={brand}\r\n                  id=\"brand\"\r\n                  onChange={(e) => setBrand(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"countInStock\">CountInStock</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"countInStock\"\r\n                  value={countInStock}\r\n                  id=\"countInStock\"\r\n                  onChange={(e) => setCountInStock(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"name\">Category</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"category\"\r\n                  value={category}\r\n                  id=\"category\"\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"description\">Description</label>\r\n                <textarea\r\n                  name=\"description\"\r\n                  value={description}\r\n                  id=\"description\"\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </li>\r\n              <li>\r\n                <button type=\"submit\" className=\"button primary\">\r\n                  {id ? 'Update' : 'Create'}\r\n                </button>\r\n              </li>\r\n              <li>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => { console.log(modalVisible); setModalVisible(false); }}\r\n                  className=\"button secondary\"\r\n                >\r\n                  Back\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"product-list\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Name</th>\r\n              <th>Price</th>\r\n              <th>Category</th>\r\n              <th>Brand</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product._id}>\r\n                <td>{product._id}</td>\r\n                <td>{product.name}</td>\r\n                <td>{product.price}</td>\r\n                <td>{product.category}</td>\r\n                <td>{product.brand}</td>\r\n                <td>\r\n                  <button className=\"button\" onClick={() => openModal(product)}>\r\n                    Edit\r\n                  </button>{' '}\r\n                  <button\r\n                    className=\"button\"\r\n                    onClick={() => deleteHandler(product)}                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ProductsScreen;\r\n","import React from 'react';\r\nfunction CheckoutSteps(props) {\r\n  return <div className=\"checkout-steps\">\r\n    <div className={props.step1 ? 'active' : ''} >Signin</div>\r\n    <div className={props.step2 ? 'active' : ''} >Shipping</div>\r\n    <div className={props.step3 ? 'active' : ''} >Payment</div>\r\n    <div className={props.step4 ? 'active' : ''} >Place Order</div>\r\n  </div>\r\n}\r\n\r\nexport default CheckoutSteps;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { saveShipping } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nfunction ShippingScreen(props) {\r\n\r\n  const [address, setAddress] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [postalCode, setPostalCode] = useState('');\r\n  const [country, setCountry] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(saveShipping({ address, city, postalCode, country }));\r\n    props.history.push('payment');\r\n  }\r\n  return <div>\r\n    <CheckoutSteps step1 step2 ></CheckoutSteps>\r\n    <div className=\"form\">\r\n      <form onSubmit={submitHandler} >\r\n        <ul className=\"form-container\">\r\n          <li>\r\n            <h2>Shipping</h2>\r\n          </li>\r\n\r\n          <li>\r\n            <label htmlFor=\"address\">\r\n              Address\r\n          </label>\r\n            <input type=\"text\" name=\"address\" id=\"address\" onChange={(e) => setAddress(e.target.value)}>\r\n            </input>\r\n          </li>\r\n          <li>\r\n            <label htmlFor=\"city\">\r\n              City\r\n          </label>\r\n            <input type=\"text\" name=\"city\" id=\"city\" onChange={(e) => setCity(e.target.value)}>\r\n            </input>\r\n          </li>\r\n          <li>\r\n            <label htmlFor=\"postalCode\">\r\n              Postal Code\r\n          </label>\r\n            <input type=\"text\" name=\"postalCode\" id=\"postalCode\" onChange={(e) => setPostalCode(e.target.value)}>\r\n            </input>\r\n          </li>\r\n          <li>\r\n            <label htmlFor=\"country\">\r\n              Country\r\n          </label>\r\n            <input type=\"text\" name=\"country\" id=\"country\" onChange={(e) => setCountry(e.target.value)}>\r\n            </input>\r\n          </li>\r\n\r\n\r\n          <li>\r\n            <button type=\"submit\" className=\"button primary\">Continue</button>\r\n          </li>\r\n\r\n        </ul>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n}\r\nexport default ShippingScreen;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { savePayment } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nfunction PaymentScreen(props) {\r\n  const [paymentMethod, setPaymentMethod] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePayment({ paymentMethod }));\r\n    props.history.push('placeorder');\r\n  };\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler}>\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>Payment</h2>\r\n            </li>\r\n\r\n            <li>\r\n              <div>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"paymentMethod\"\r\n                  id=\"paymentMethod\"\r\n                  value=\"paypal\"\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                ></input>\r\n                <label for=\"paymentMethod\">Paypal</label>\r\n              </div>\r\n            </li>\r\n\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">\r\n                Continue\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default PaymentScreen;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport {createOrder} from '../actions/orderActions'\r\nfunction PlaceOrderScreen(props) {\r\n\r\n  const cart = useSelector(state => state.cart);\r\n  const orderCreate = useSelector(state => state.orderCreate);\r\n  const { loading, success, error, order } = orderCreate;\r\n\r\n  const { cartItems, shipping, payment } = cart;\r\n  if (!shipping.address) {\r\n    props.history.push(\"/shipping\");\r\n  } else if (!payment.paymentMethod) {\r\n    props.history.push(\"/payment\");\r\n  }\r\n  const itemsPrice = cartItems.reduce((a, c) => a + c.price * c.qty, 0);\r\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\r\n  const taxPrice = 0.15 * itemsPrice;\r\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const placeOrderHandler = () => {\r\n    // create an order\r\n    dispatch(createOrder({\r\n      orderItems: cartItems, shipping, payment, itemsPrice, shippingPrice,\r\n      taxPrice, totalPrice\r\n    }));\r\n  }\r\n  useEffect(() => {\r\n    if (success) {\r\n      props.history.push(\"/order/\" + order._id);\r\n    }\r\n  }, [success]);\r\n\r\n  return <div> \r\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\r\n    <div className=\"placeorder\">\r\n      <div className=\"placeorder-info\">\r\n        <div>\r\n          <h3>\r\n            Shipping\r\n          </h3>\r\n          <div>\r\n            {cart.shipping.address}, {cart.shipping.city},\r\n          {cart.shipping.postalCode}, {cart.shipping.country},\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h3>Payment</h3>\r\n          <div>\r\n            Payment Method: {cart.payment.paymentMethod}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <ul className=\"cart-list-container\">\r\n            <li>\r\n              <h3>\r\n                Shopping Cart\r\n          </h3>\r\n              <div>\r\n                Price\r\n          </div>\r\n            </li>\r\n            {\r\n              cartItems.length === 0 ?\r\n                <div>\r\n                  Cart is empty\r\n          </div>\r\n                :\r\n                cartItems.map(item =>\r\n                  <li>\r\n                    <div className=\"cart-image\">\r\n                      <img src={item.image} alt=\"product\" />\r\n                    </div>\r\n                    <div className=\"cart-name\">\r\n                      <div>\r\n                        <Link to={\"/product/\" + item.product}>\r\n                          {item.name}\r\n                        </Link>\r\n\r\n                      </div>\r\n                      <div>\r\n                        Qty: {item.qty}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"cart-price\">\r\n                      ${item.price}\r\n                    </div>\r\n                  </li>\r\n                )\r\n            }\r\n          </ul>\r\n        </div>\r\n\r\n      \r\n      </div>\r\n      <div className=\"placeorder-action\">\r\n        {loading ? (<div>Loading...</div>) : error ? (<div>{error}</div>):(\r\n        <ul>\r\n          <li>\r\n            <button className=\"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\r\n          </li>\r\n          <li>\r\n            <h3>Order Summary</h3>\r\n          </li>\r\n          <li>\r\n            <div>Items</div>\r\n            <div>${itemsPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Shipping</div>\r\n            <div>${shippingPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Tax</div>\r\n            <div>${taxPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Order Total</div>\r\n            <div>${totalPrice}</div>\r\n          </li>\r\n        </ul>\r\n      )}\r\n      </div>\r\n        \r\n    </div>\r\n  </div>\r\n\r\n}\r\n\r\nexport default PlaceOrderScreen;","import Axios from \"axios\";\r\nimport { get } from \"js-cookie\";\r\nimport {\r\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL, MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL\r\n} from \"../constants/orderConstants\";\r\n\r\nconst createOrder = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data: { data: newOrder } } = await Axios.post(\"/api/orders\", order, {\r\n      headers: {\r\n        Authorization: ' Bearer ' + userInfo.token\r\n      }\r\n    });\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\r\n  } catch (error) {\r\n    console.log(\"hhh\"+error);\r\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst listOrders = () => async (dispatch, getState) => {\r\n\r\n  try {\r\n    dispatch({ type: ORDER_LIST_REQUEST });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/orders\", {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n\r\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/orders/\" + orderId, {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_PAY_REQUEST, payload: paymentResult });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst deleteOrder = (order) => async(dispatch,getState) =>{\r\n  try {\r\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: order });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.delete(\"/api/orders/\" + order , {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\r\n  }\r\n  catch(error){\r\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n\r\nconst listMyOrders = () => async (dispatch, getState) => {\r\n\r\n  try {\r\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/orders/mine\", {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n  export {createOrder,detailsOrder,payOrder,listOrders,deleteOrder,listMyOrders};","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const MY_ORDER_LIST_REQUEST = 'MY_ORDER_LIST_REQUEST';\r\nexport const MY_ORDER_LIST_SUCCESS = 'MY_ORDER_LIST_SUCCESS';\r\nexport const MY_ORDER_LIST_FAIL = 'MY_ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\n\r\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\r\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\r\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';","import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nfunction PaypalButton(props) {\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  const addPaypalSdk = async () => {\r\n    const result = await axios.get(\"/api/config/paypal\");\r\n    console.log(result.data);\r\n    const clientID = result.data;\r\n    const script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = 'https://www.paypal.com/sdk/js?client-id=' + clientID;\r\n    script.async = true;\r\n    script.onload = () => {\r\n      setSdkReady(true);\r\n    }\r\n    document.body.appendChild(script);\r\n  }\r\n\r\n  const createOrder = (data, actions) => actions.order.create({\r\n    purchase_units: [\r\n      {\r\n        amount: {\r\n          currency_code: 'USD',\r\n          value: props.amount\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n  const onApprove = (data, actions) => actions.order\r\n    .capture()\r\n    .then(details => props.onSuccess(data, details))\r\n    .catch(err => console.log(err));\r\n\r\n  useEffect(() => {\r\n    if (!window.paypal) {\r\n      addPaypalSdk();\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, []);\r\n\r\n  if (!sdkReady) {\r\n    return <CircularProgress></CircularProgress>\r\n  }\r\n\r\n  const Button = window.paypal.Buttons.driver('react', { React, ReactDOM });\r\n\r\n  return <Button {...props} createOrder={(data, actions) => createOrder(data, actions)}\r\n    onApprove={(data, actions) => onApprove(data, actions)} />\r\n}\r\n\r\nexport default PaypalButton;","import React, {useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { detailsOrder, payOrder } from '../actions/orderActions';\r\nimport PaypalButton from '../components/paypal';\r\nimport axios from 'axios';\r\n\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\n\r\n\r\nfunction OrderScreen(props) {\r\n  const orderPay = useSelector((state) => state.orderPay);\r\n  \r\n  const [sdkReady, setSdkReady] = useState(false);\r\n  const [clientID, setclientID] = useState('');\r\n\r\n  useEffect(() => {\r\n    if(!sdkReady)\r\n    axios.get(\"/api/config/paypal\").then(response => {\r\n      setSdkReady(true);\r\n      setclientID(response.data);\r\n    });\r\n    return () => {\r\n      \r\n    }\r\n  }, [sdkReady])\r\n  // const result = axios.get(\"/api/config/paypal\").then(response => {\r\n  //   setSdkReady(true);\r\n  //   setclientID(response.data);\r\n  // });\r\n  var { loading: loadingPay, success: successPay, error: errorPay } = orderPay;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (successPay) {\r\n      console.log(\"je;;p\");\r\n      props.history.push(\"/profile\");\r\n    } else {\r\n      dispatch(detailsOrder(props.match.params.id));\r\n    }\r\n    return () => {\r\n    };\r\n  }, [successPay]);\r\n\r\n  const handleSuccessPayment = (paymentResult) => {\r\n    dispatch(payOrder(order, paymentResult));\r\n  }\r\n\r\n  const orderDetails = useSelector(state => state.orderDetails);\r\n  const { loading, order, error } = orderDetails;\r\n\r\n  return loading ? <div>loading.......</div>\r\n    : error ? <div>{error}</div> :\r\n\r\n      <div>\r\n        <div className=\"placeorder\">\r\n          <div className=\"placeorder-info\">\r\n            <div>\r\n              <h3>\r\n                Shipping\r\n        </h3>\r\n              <div>\r\n                {order.shipping.address}, {order.shipping.city},\r\n        {order.shipping.postalCode}, {order.shipping.country},\r\n        </div>\r\n              <div>\r\n                {order.isDelivered ? \"Delivered at \" + order.deliveredAt : \"Not Delivered.\"}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h3>Payment</h3>\r\n              <div>\r\n                Payment Method: {order.payment.paymentMethod}\r\n              </div>\r\n              <div>\r\n                {order.isPaid ? \"Paid at \" + order.paidAt : \"Not Paid.\"}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <ul className=\"cart-list-container\">\r\n                <li>\r\n                  <h3>\r\n                    Shopping Cart\r\n        </h3>\r\n                  <div>\r\n                    Price\r\n        </div>\r\n                </li>\r\n                {\r\n                  order.orderItems.length === 0 ?\r\n                    <div>\r\n                      Cart is empty\r\n        </div>\r\n                    :\r\n                    order.orderItems.map(item =>\r\n                      <li key={item._id}>\r\n                        <div className=\"cart-image\">\r\n                          <img src={item.image} alt=\"product\" />\r\n                        </div>\r\n                        <div className=\"cart-name\">\r\n                          <div>\r\n                            <Link to={\"/product/\" + item.product}>\r\n                              {item.name}\r\n                            </Link>\r\n\r\n                          </div>\r\n                          <div>\r\n                            Qty: {item.qty}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"cart-price\">\r\n                          ${item.price}\r\n                        </div>\r\n                      </li>\r\n                    )\r\n                }\r\n              </ul>\r\n            </div>\r\n\r\n\r\n          </div>\r\n          <div className=\"placeorder-action\">\r\n            <ul>\r\n              <li className=\"placeorder-actions-payment\">\r\n                {loadingPay && <CircularProgress />}\r\n                {!order.isPaid && (sdkReady?\r\n                  <PayPalButton\r\n                    amount={order.totalPrice}\r\n                    onSuccess={handleSuccessPayment}\r\n                    options={{\r\n                      clientId:`${clientID}`\r\n                    }}\r\n                  />:<div>loading</div>)\r\n                }\r\n              </li>\r\n              <li>\r\n                <h3>Order Summary</h3>\r\n              </li>\r\n              <li>\r\n                <div>Items</div>\r\n                <div>${order.itemsPrice}</div>\r\n              </li>\r\n              <li>\r\n                <div>Shipping</div>\r\n                <div>${order.shippingPrice}</div>\r\n              </li>\r\n              <li>\r\n                <div>Tax</div>\r\n                <div>${order.taxPrice}</div>\r\n              </li>\r\n              <li>\r\n                <div>Order Total</div>\r\n                <div>${order.totalPrice}</div>\r\n              </li>\r\n            </ul>\r\n\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n}\r\nexport default OrderScreen;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { listOrders, deleteOrder } from '../actions/orderActions';\r\n\r\nfunction OrdersScreen(props) {\r\n  const orderList = useSelector(state => state.orderList);\r\n  const { loading, orders, error } = orderList;\r\n  console.log(orders);\r\n\r\n  const orderDelete = useSelector(state => state.orderDelete);\r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(listOrders());\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successDelete]);\r\n\r\n  const deleteHandler = (order) => {\r\n    dispatch(deleteOrder(order._id));\r\n  }\r\n  const home = () => {\r\n    props.history.push(\"/profile\");\r\n  }\r\n  return loading ? <div>Loading...</div> :\r\n    <div className=\"content content-margined\">\r\n\r\n      <div className=\"order-header\">\r\n        <h3>Orders</h3>\r\n      </div>\r\n      <div className=\"order-list\">\r\n\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>USER</th>\r\n              <th>PAID</th>\r\n              <th>PAID AT</th>\r\n              <th>DELIVERED</th>\r\n              <th>DELIVERED AT</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map(order => (<tr key={order._id}>\r\n              <td>{order._id}</td>\r\n              <td>{order.createdAt}</td>\r\n              <td>{order.totalPrice}</td>\r\n              <td>{order.user.name}</td>\r\n              <td>{order.isPaid.toString()}</td>\r\n              <td>{order.paidAt}</td>\r\n              <td>{order.isDelivered.toString()}</td>\r\n              <td>{order.deliveredAt}</td>\r\n              <td>\r\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\r\n                {' '}  { \r\n                  (!order.user.isAdmin === 'false')\r\n                    ? <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\r\n                    : (order.isPaid)?<button type=\"button\" onClick={() => home()} className=\"button secondary\">Profile</button>\r\n                    :<button type=\"button\" className=\"button secondary\">pay</button>\r\n                }\r\n\r\n\r\n              </td>\r\n            </tr>))}\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n    </div>\r\n}\r\nexport default OrdersScreen;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { logout, update } from '../actions/userActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction ProfileScreen(props) {\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const userSignin = useSelector(state => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n    props.history.push(\"/signin\");\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(update({ userId: userInfo._id, email, name, password }))\r\n  }\r\n  // const userUpdate = useSelector(state => state.userUpdate);\r\n  // const { loading, success, error } = userUpdate;\r\n\r\n  const myOrderList = useSelector(state => state.myOrderList);\r\n  const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      console.log(userInfo.name)\r\n      setEmail(userInfo.email);\r\n      setName(userInfo.name);\r\n      setPassword(userInfo.password);\r\n    }\r\n    dispatch(listMyOrders());\r\n    return () => {\r\n\r\n    };\r\n  }, [userInfo])\r\n\r\n  return <div className=\"profile\">\r\n    <div className=\"profile-info\">\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler} >\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>User Profile</h2>\r\n            </li>\r\n            <li>\r\n              {/* {loading && <div>Loading...</div>}\r\n              {error && <div>{error}</div>}\r\n{success && <div>Profile Saved Successfully.</div>}*/}\r\n            </li> \r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Name\r\n          </label>\r\n              <input value={name} type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"email\">\r\n                Email\r\n          </label>\r\n              <input value={email} type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input value={password} type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n              </input>\r\n            </li>\r\n\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">Update</button>\r\n            </li>\r\n            <li>\r\n              <button type=\"button\" onClick={handleLogout} className=\"button secondary full-width\">Logout</button>\r\n            </li>\r\n\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div className=\"profile-orders content-margined\">\r\n      {\r\n        loadingOrders ? <div>Loading...</div> :\r\n          errorOrders ? <div>{errorOrders} </div> :\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>DATE</th>\r\n                  <th>TOTAL</th>\r\n                  <th>PAID</th>\r\n                  <th>ACTIONS</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orders.map(order => <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                  <td>{order.createdAt}</td>\r\n                  <td>{order.totalPrice}</td>\r\n                  <td>{order.isPaid}</td>\r\n                  <td>\r\n                    <Link to={\"/order/\" + order._id}>DETAILS</Link>\r\n                  </td>\r\n                </tr>)}\r\n              </tbody>\r\n            </table>\r\n      }\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default ProfileScreen;","import React from 'react';\r\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\r\nimport './App.css';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport ProductScreen from './screens/ProductScreen';\r\nimport CartScreen from './screens/CartScreen';\r\nimport SigninScreen from './screens/SigninScreen';\r\nimport { useSelector } from 'react-redux';\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport RegisterScreen from './screens/RegisterScreen';\r\nimport ProductsScreen from './screens/ProductsScreen';\r\nimport ShippingScreen from './screens/ShippingScreen';\r\nimport PaymentScreen from './screens/PaymentScreen';\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\r\nimport OrderScreen from './screens/OrderScreen';\r\nimport OrdersScreen from './screens/OrdersScreen';\r\nimport ProfileScreen from './screens/ProfileScreen';\r\n\r\n\r\nfunction App() {\r\n\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  \r\n  const cart = useSelector((state) => state.cart);\r\n  const { userInfo } = userSignin;\r\n\r\n  const openMenu = () => {\r\n    document.querySelector('.sidebar').classList.add('open');\r\n  };\r\n  const closeMenu = () => {\r\n    document.querySelector('.sidebar').classList.remove('open');\r\n  };\r\n  return (\r\n\r\n    <BrowserRouter>\r\n      <div className=\"grid-container\">\r\n        <header className=\"header\">\r\n        \r\n          <div className=\"brand\">\r\n            <button onClick={openMenu}>&#9776;</button>\r\n            <Link to=\"/\">amazona</Link>\r\n          </div>\r\n          <div className=\"header-links\">\r\n          <div>\r\n          <Link to=\"/cart\">Cart</Link>\r\n          <span className=\"badge\">{cart.cartItems.length}</span>\r\n          </div>\r\n            {userInfo ? (\r\n              <Link to=\"/profile\">{userInfo.name}</Link>\r\n            ) : (\r\n              <Link to=\"/signin\">Sign In</Link>\r\n            )}\r\n            {userInfo && userInfo.isAdmin && (\r\n              <div className=\"dropdown\">\r\n                <a href=\"#\">Admin</a>\r\n                <ul className=\"dropdown-content\">\r\n                  <li>\r\n                    <Link to=\"/orders\">Orders</Link>\r\n                    <Link to=\"/products\">Products</Link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </header>\r\n        <aside className=\"sidebar\">\r\n          <h3>Shopping Categories</h3>\r\n          <button className=\"sidebar-close-button\" onClick={closeMenu}>\r\n            x\r\n          </button>\r\n          <ul className=\"categories\">\r\n            <li>\r\n              <Link to=\"/category/Pants\">Pants</Link>\r\n            </li>\r\n\r\n            <li>\r\n              <Link to=\"/category/Shirts\">Shirts</Link>\r\n            </li>\r\n          </ul>\r\n        </aside>\r\n        <main className=\"main\">\r\n          <div className=\"content\">\r\n            <Route path=\"/products\" component={ProductsScreen} />\r\n            <Route path=\"/shipping\" component={ShippingScreen} />\r\n            <Route path=\"/payment\" component={PaymentScreen} />\r\n            <Route path=\"/placeorder\" component={PlaceOrderScreen} />\r\n            <Route path=\"/signin\" component={SigninScreen} />\r\n            <Route path=\"/register\" component={RegisterScreen} />\r\n            <Route path=\"/order/:id\" component={OrderScreen} />\r\n            <Route path=\"/orders\" component={OrdersScreen} />\r\n            <Route path=\"/product/:id\" component={ProductScreen} />\r\n            <Route path=\"/cart/:id?\" component={CartScreen} />\r\n            <Route path=\"/category/:id\" component={HomeScreen} />\r\n            <Route path=\"/profile\" component={ProfileScreen} />\r\n            <Route path=\"/\" exact={true} component={HomeScreen} />\r\n          </div>\r\n        </main>\r\n        <footer className=\"footer\">All right reserved.</footer>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport Cookie from 'js-cookie';\r\nimport {\r\n  productListReducer,\r\n  productDetailsReducer,\r\n  productSaveReducer,\r\n  productDeleteReducer,\r\n  productReviewSaveReducer,\r\n} from './reducers/productReducers';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport {\r\n  userSigninReducer,\r\n  userRegisterReducer,\r\n  userUpdateReducer,\r\n} from './reducers/userReducers';\r\n\r\nimport {orderCreateReducer,orderDetailsReducer,payOrder,orderListReducer, orderDeleteReducer, orderPayReducer, myOrderListReducer} from './reducers/orderReducers'\r\nconst cartItems = Cookie.getJSON('cartItems') || [];\r\nconst userInfo = Cookie.getJSON('userInfo') || null;\r\n\r\nconst initialState = {\r\n  cart: { cartItems, shipping: {}, payment: {} },\r\n  userSignin: { userInfo },\r\n};\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  cart: cartReducer,\r\n  userSignin: userSigninReducer,\r\n  userRegister: userRegisterReducer,\r\n  productSave: productSaveReducer,\r\n  productDelete: productDeleteReducer,\r\n  productReviewSave: productReviewSaveReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  orderList: orderListReducer,\r\n  orderDelete : orderDeleteReducer,\r\n  orderPay:orderPayReducer,\r\n  myOrderList:myOrderListReducer\r\n});\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\nexport default store;\r\n","import {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_SAVE_REQUEST,\r\n  PRODUCT_SAVE_SUCCESS,\r\n  PRODUCT_SAVE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_REVIEW_SAVE_SUCCESS,\r\n  PRODUCT_REVIEW_SAVE_REQUEST,\r\n  PRODUCT_REVIEW_SAVE_FAIL,\r\n  PRODUCT_REVIEW_SAVE_RESET,\r\n} from '../constants/productConstants';\r\n\r\nfunction productListReducer(state = { products: [] }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_LIST_REQUEST:\r\n      return { loading: true, products: [] };\r\n    case PRODUCT_LIST_SUCCESS:\r\n      return { loading: false, products: action.payload };\r\n    case PRODUCT_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction productDetailsReducer(state = { product: { reviews: [] } }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_DETAILS_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case PRODUCT_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction productSaveReducer(state = { product: { reviews: [] } }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_SAVE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_SAVE_SUCCESS:\r\n      return { loading: false, product: action.payload,success: true };\r\n    case PRODUCT_SAVE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction productDeleteReducer(state = { product: {} }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_DELETE_SUCCESS:\r\n      return { loading: false, product: action.payload, success: true };\r\n    case PRODUCT_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction productReviewSaveReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_REVIEW_SAVE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_REVIEW_SAVE_SUCCESS:\r\n      return { loading: false, review: action.payload, success: true };\r\n    case PRODUCT_REVIEW_SAVE_FAIL:\r\n      return { loading: false, errror: action.payload };\r\n    case PRODUCT_REVIEW_SAVE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport {\r\n  productListReducer,\r\n  productDetailsReducer,\r\n  productSaveReducer,\r\n  productDeleteReducer,\r\n  productReviewSaveReducer,\r\n};\r\n","import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT } from \"../constants/cartConstants\";\r\n\r\nfunction cartReducer(state = { cartItems: [], shipping: {}, payment: {} }, action) {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const product = state.cartItems.find(x => x.product === item.product);\r\n      if (product) {\r\n        return {\r\n          cartItems:\r\n            state.cartItems.map(x => x.product === product.product ? item : x)\r\n        };\r\n      }\r\n      return { cartItems: [...state.cartItems, item] };\r\n    case CART_REMOVE_ITEM:\r\n      return { cartItems: state.cartItems.filter(x => x.product !== action.payload) };\r\n    case CART_SAVE_SHIPPING:\r\n      return { ...state, shipping: action.payload };\r\n    case CART_SAVE_PAYMENT:\r\n      return { ...state, payment: action.payload };\r\n    default:\r\n      return state\r\n  }\r\n} \r\n\r\nexport { cartReducer }","import { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL } from \"../constants/userConstants\";\r\n\r\nfunction userSigninReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_SIGNIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_SIGNIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_SIGNIN_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_LOGOUT:\r\n      return {};\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction userUpdateReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction userRegisterReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\nexport {\r\n  userSigninReducer, userRegisterReducer, userUpdateReducer\r\n}","import {\r\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\r\n  ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL,\r\n  MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL,\r\n  ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL\r\n} from \"../constants/orderConstants\";\r\n\r\n\r\nfunction orderCreateReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case ORDER_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_CREATE_SUCCESS:\r\n      return { loading: false, order: action.payload, success: true };\r\n    case ORDER_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction orderDetailsReducer(state = {\r\n  order: {\r\n    orderItems: [],\r\n    shipping: {},\r\n    payment: {}\r\n  }\r\n}, action) {\r\n  switch (action.type) {\r\n    case ORDER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DETAILS_SUCCESS:\r\n      return { loading: false, order: action.payload };\r\n    case ORDER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction orderListReducer(state = {\r\n  orders: []\r\n}, action) {\r\n  switch (action.type) {\r\n    case ORDER_LIST_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case ORDER_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction orderPayReducer(state = {\r\n  order: {\r\n    orderItems: [],\r\n    shipping: {},\r\n    payment: {}\r\n  }\r\n}, action) {\r\n  switch (action.type) {\r\n    case ORDER_PAY_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_PAY_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_PAY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\nfunction orderDeleteReducer(state = {\r\n  order: {\r\n    orderItems: [],\r\n    shipping: {},\r\n    payment: {}\r\n  }\r\n}, action) {\r\n  switch (action.type) {\r\n    case ORDER_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DELETE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction myOrderListReducer(state = {\r\n  orders: []\r\n}, action) {\r\n  switch (action.type) {\r\n    case MY_ORDER_LIST_REQUEST:\r\n      return { loading: true };\r\n    case MY_ORDER_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case MY_ORDER_LIST_REQUEST:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\nexport {orderCreateReducer,orderDetailsReducer,orderPayReducer,orderListReducer,orderDeleteReducer,myOrderListReducer};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Provider } from 'react-redux'\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}